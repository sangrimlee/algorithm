---
id: '2145'
title: Count the Hidden Sequences
url: https://leetcode.com/problems/count-the-hidden-sequences
category: Algorithms
difficulty: Medium
tags:
  - Array
  - Prefix Sum
---

## ë¬¸ì œ ì„¤ëª…

- ì •ìˆ˜ ë°°ì—´ `differences`ê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
  - ì´ ë°°ì—´ì€ ìˆ¨ê²¨ì§„ ìˆ˜ì—´ `hidden`ì˜ ì—°ì†ëœ ìš”ì†Œë“¤ ê°„ì˜ ì°¨ì´ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
  - ì¦‰, `differences[i] = hidden[i + 1] - hidden[i]` ê³¼ ê°™ìŠµë‹ˆë‹¤.
- ì •ìˆ˜ `lower`ì™€ `upper`ê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
  - ìˆ¨ê²¨ì§„ ìˆ˜ì—´ `hidden`ì˜ ëª¨ë“  ìš”ì†ŒëŠ” `[lower, upper]` ë²”ìœ„ ë‚´(ê²½ê³„ê°’ í¬í•¨)ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- ë¬¸ì œëŠ” ê°€ëŠ¥í•œ ëª¨ë“  ìˆ¨ê²¨ì§„ ìˆ˜ì—´ `hidden`ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
  - ê°€ëŠ¥í•œ ìˆ˜ì—´ì´ ì—†ë‹¤ë©´ `0`ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

## ë¬¸ì œ í’€ì´

### `Prefix Sum`

> ğŸ’¡ ì•„ì´ë””ì–´
>
> - ìˆ˜ì—´ì˜ **ì²« ë²ˆì§¸ ê°’ì´ ì •í•´ì§€ë©´, ë‚˜ë¨¸ì§€ ëª¨ë“  ê°’ë“¤ì€ `differences` ë°°ì—´ì— ì˜í•´ ìë™ìœ¼ë¡œ ê²°ì •**ë©ë‹ˆë‹¤.
> - ë”°ë¼ì„œ, **ê°€ëŠ¥í•œ ì‹œì‘ì ì˜ ê°œìˆ˜ë¥¼ ê³„ì‚°**í•˜ë©´, **ê°€ëŠ¥í•œ ìˆ˜ì—´ì˜ ì´ ê°œìˆ˜**ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. ìƒëŒ€ì  ìˆ˜ì—´ íƒìƒ‰
   - ì²« ë²ˆì§¸ ê°’ì„ 0ìœ¼ë¡œ ê°€ì •í•˜ê³ , `differences`ë¥¼ í†µí•´ ë§Œë“¤ì–´ì§€ëŠ” ìˆ˜ì—´ì˜ ìµœì†Œê°’ê³¼ ìµœëŒ€ê°’ì„ ì¶”ì 
2. **ìµœì†Œ / ìµœëŒ€ê°’ ê°±ì‹ **
   - ëª¨ë“  `differences`ë¥¼ ìˆœíšŒí•˜ë©´ì„œ ê°€ëŠ¥í•œ ìµœì†Œê°’ê³¼ ìµœëŒ€ê°’ì„ ê°±ì‹ 
   - `minValue`ì™€ `maxValue`ë¥¼ í†µí•´ ìˆ˜ì—´ì˜ ë²”ìœ„ í™•ì¸
3. **ë²”ìœ„ ìœ íš¨ì„± ê²€ì‚¬**
   - ë§Œì•½ **ìµœëŒ€ê°’ê³¼ ìµœì†Œê°’ì˜ ì°¨ì´ê°€ í—ˆìš©ëœ ë²”ìœ„ í¬ê¸°(`upper - lower`)ë³´ë‹¤ í¬ë‹¤ë©´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°**ì´ë¯€ë¡œ 0ì„ ë°˜í™˜
   - ì–´ë–¤ ì‹œì‘ì ì„ ì„ íƒí•˜ë”ë¼ë„ ëª¨ë“  ìš”ì†Œê°€ `[lower, upper]` ë²”ìœ„ ë‚´ì— ìˆì„ ìˆ˜ ì—†ìŒ
4. ê°€ëŠ¥í•œ ì‹œì‘ì  ê³„ì‚°
   - ê°€ëŠ¥í•œ ê²½ìš°, **ì‹œì‘ì ì„ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆëŠ” ë²”ìœ„ì˜ í¬ê¸°**ë¥¼ ê³„ì‚°í•˜ì—¬ ë°˜í™˜
   - `(upper - lower) - (maxValue - minValue) + 1`ì€ ê°€ëŠ¥í•œ ì‹œì‘ì ì˜ ê°œìˆ˜ë¥¼ ì˜ë¯¸

```typescript showLineNumbers
export function numberOfArrays(differences: number[], lower: number, upper: number): number {
  const rangeSize = upper - lower;

  let minValue = 0;
  let maxValue = 0;
  let currentValue = 0;
  for (const difference of differences) {
    currentValue += difference;
    minValue = Math.min(minValue, currentValue);
    maxValue = Math.max(maxValue, currentValue);

    if (maxValue - minValue > rangeSize) {
      return 0;
    }
  }

  return rangeSize - (maxValue - minValue) + 1;
}
```

#### ë³µì¡ë„

- ì‹œê°„ ë³µì¡ë„: $O(n)$
- ê³µê°„ ë³µì¡ë„: $O(1)$
