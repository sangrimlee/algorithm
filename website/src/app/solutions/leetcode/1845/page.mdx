---
title: Seat Reservation Manager
tags:
  - Design
  - Heap (Priority Queue)
---

# 1845. Seat Reservation Manager

<Badge.Root>
  <Badge.Level level="medium" />
  <Badge.Topic name="Design" slug="design" />
  <Badge.Topic name="Heap (Priority Queue)" slug="heap-priority-queue" />
</Badge.Root>

## Solution

```typescript filename="solution.ts" copy
import { Heap, range } from '@algorithm/lib';

export class SeatManager {
  private readonly seats: Heap<number>;
  constructor(n: number) {
    this.seats = new Heap((a, b) => a - b);
    for (const seatNumber of range(1, n + 1)) {
      this.seats.push(seatNumber);
    }
  }

  reserve(): number {
    const seatNumber = this.seats.pop();
    if (seatNumber === undefined) {
      throw new Error('There are no unreserved seats.');
    }
    return seatNumber;
  }

  unreserve(seatNumber: number): void {
    this.seats.push(seatNumber);
  }
}
```

<ProblemLink
  codingSite="leetcode"
  href="https://leetcode.com/problems/seat-reservation-manager"
  title="Seat Reservation Manager"
/>
