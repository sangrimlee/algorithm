---
title: Non-decreasing Array
tags:
  - Array
---

# 665. Non-decreasing Array

<Badge.Root>
  <Badge.Level level="medium" />
  <Badge.Topic name="Array" slug="array" />
</Badge.Root>

## Solution

```typescript filename="solution.ts" copy
export function checkPossibility(nums: number[]): boolean {
  const n = nums.length;

  let nonDecreasingIndex = -1;
  for (let currentIndex = 0; currentIndex < nums.length - 1; currentIndex++) {
    if (nums[currentIndex + 1] < nums[currentIndex]) {
      if (nonDecreasingIndex !== -1) {
        return false;
      }
      nonDecreasingIndex = currentIndex;
    }
  }
  return (
    [-1, 0, n - 2].includes(nonDecreasingIndex) ||
    nums[nonDecreasingIndex - 1] <= nums[nonDecreasingIndex + 1] ||
    nums[nonDecreasingIndex] < nums[nonDecreasingIndex + 2]
  );
}
```

<ProblemLink
  codingSite="leetcode"
  href="https://leetcode.com/problems/non-decreasing-array/"
  title="Non-decreasing Array"
/>
