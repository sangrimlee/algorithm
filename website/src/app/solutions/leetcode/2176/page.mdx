---
title: Count Equal and Divisible Pairs in an Array
tags:
  - Array
---

# 2176. Count Equal and Divisible Pairs in an Array

<Badge.Root>
  <Badge.Level level="easy" />
  <Badge.Topic name="Array" slug="array" />
</Badge.Root>

## Solution

```typescript filename="solution.ts" copy
export function countPairs(nums: number[], k: number): number {
  const indicesByValue = new Map<number, number[]>();

  let answer = 0;
  nums.forEach((num, i) => {
    const indices = indicesByValue.get(num) ?? [];
    if (indices.length === 0) {
      indicesByValue.set(num, [i]);
      return;
    }

    for (const j of indices) {
      if ((i * j) % k === 0) {
        answer += 1;
      }
    }
    indices.push(i);
  });

  return answer;
}
```

<ProblemLink
  codingSite="leetcode"
  href="https://leetcode.com/problems/count-equal-and-divisible-pairs-in-an-array"
  title="Count Equal and Divisible Pairs in an Array"
/>
