---
title: Construct Binary Tree from Preorder and Postorder Traversal
tags:
  - Array
  - Hash Table
  - Divide and Conquer
  - Tree
  - Binary Tree
---

# 889. Construct Binary Tree from Preorder and Postorder Traversal

<Badge.Root>
  <Badge.Level level="medium" />
  <Badge.Topic name="Array" slug="array" />
  <Badge.Topic name="Hash Table" slug="hash-table" />
  <Badge.Topic name="Divide and Conquer" slug="divide-and-conquer" />
  <Badge.Topic name="Tree" slug="tree" />
  <Badge.Topic name="Binary Tree" slug="binary-tree" />
</Badge.Root>

## ë¬¸ì œ ì„¤ëª…

í•´ë‹¹ ë¬¸ì œëŠ” ì£¼ì–´ì§„ ë‘ ê°œì˜ ì •ìˆ˜ ë°°ì—´, `preorder`, `postorder`ì„ ë°”íƒ•ìœ¼ë¡œ ì›ë˜ì˜ ì´ì§„ íŠ¸ë¦¬ë¥¼ ë³µì›í•˜ëŠ”ê²ƒì´ë‹¤.

- `preorder`: **ì „ìœ„ ìˆœíšŒ(Preorder Traversal)** ì˜ ê²°ê³¼ì´ë‹¤.
- `postorder`: **í›„ìœ„ ìˆœíšŒ(Postorder Traversal)** ì˜ ê²°ê³¼ì´ë‹¤.
- ëª¨ë“  ë…¸ë“œëŠ” **ì„œë¡œ ë‹¤ë¥¸ ê°’**ì„ ê°€ì§„ë‹¤.
- ê°€ëŠ¥í•œ ì •ë‹µì´ ì—¬ëŸ¬ ê°œì¼ ìˆ˜ ìˆìœ¼ë©°, ê·¸ ì¤‘ í•˜ë‚˜ë¥¼ ë°˜í™˜í•˜ë©´ ëœë‹¤.

## ë¬¸ì œ í’€ì´

**ğŸ’¡ ì•„ì´ë””ì–´**

- **ì „ìœ„ ìˆœíšŒ(Preorder)**: **`root â†’ left â†’ right`**
- **í›„ìœ„ ìˆœíšŒ(Postorder)**: **`left â†’ right â†’ root`**
- ì´ ê·œì¹™ì„ ì´ìš©í•˜ë©´, `preorder`ë¥¼ ì‚¬ìš©í•˜ì—¬, **ë£¨íŠ¸ ë…¸ë“œë¥¼ ë¨¼ì € ì°¾ê³ **, `postorder`ë¥¼ ì‚¬ìš©í•˜ì—¬ **ìì‹ ë…¸ë“œë¥¼ ì°¾ëŠ” ê³¼ì •ì„ ë°˜ë³µ**í•˜ì—¬ íŠ¸ë¦¬ë¥¼ ë³µì›í•  ìˆ˜ ìˆë‹¤.

**ë¬¸ì œ í’€ì´**

1. `preorder`ì˜ ì²«ë²ˆì§¸ ê°’ì€ íŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œì´ë¯€ë¡œ, ì´ë¥¼ ì‚¬ìš©í•˜ì—¬, `rootNode`ë¥¼ ìƒì„±í•œë‹¤.
2. **ìŠ¤íƒì„ ì‚¬ìš©**í•˜ì—¬, ë¶€ëª¨-ìì‹ ê´€ê³„ë¥¼ ì„¤ì •í•œë‹¤.
   - í˜„ì¬ ìŠ¤íƒì˜ ê°€ì¥ ìœ„ì— ìˆëŠ” ë…¸ë“œëŠ”, **í˜„ì¬ ë…¸ë“œë¥¼ ì¶”ê°€í•  ë¶€ëª¨ ë…¸ë“œ**ì´ë‹¤.
   - `preorder`ë¥¼ ìˆœíšŒí•˜ë©° ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ìƒì„±í•˜ê³ , ì´ë¥¼ ë¶€ëª¨ì˜ `left` ë˜ëŠ” `right`ì— ì¶”ê°€í•œë‹¤.
3. `postorder` ê³¼ ë¹„êµí•˜ì—¬, **ì„œë¸Œ íŠ¸ë¦¬ë¥¼ ëª¨ë‘ ìƒì„±í•˜ë©´ `pop` í•œë‹¤.**
   - **`postorder` ì—ì„œ `stack` ì˜ ê°€ì¥ ìœ„ì— ìˆëŠ” ë…¸ë“œê°€ ë“±ì¥í•˜ë©´, í•´ë‹¹ ì„œë¸Œ íŠ¸ë¦¬ê°€ ì™„ì„±ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.**
   - **`stack`ì—ì„œ ì„œë¸Œ íŠ¸ë¦¬ê°€ ì™„ì„±ëœ ë…¸ë“œë¥¼ ëª¨ë‘ ì œê±°í•œë‹¤.**

```typescript filename="solution.ts" copy
function constructFromPrePost(preorder: number[], postorder: number[]): TreeNode {
  const rootNode = new TreeNode(preorder[0]);
  const stack: TreeNode[] = [rootNode];

  let postIndex = 0;
  for (let preIndex = 1; preIndex < preorder.length; preIndex++) {
    const node = new TreeNode(preorder[preIndex]);
    while (stack.length > 0 && stack[stack.length - 1].val === postorder[postIndex]) {
      stack.pop();
      postIndex += 1;
    }

    const parentNode = stack[stack.length - 1];
    if (!parentNode.left) {
      parentNode.left = node;
    } else {
      parentNode.right = node;
    }
    stack.push(node);
  }
  return rootNode;
}
```

**ë³µì¡ë„**

- ì‹œê°„ ë³µì¡ë„: $O(n)$
- ê³µê°„ ë³µì¡ë„: $O(n)$

<ProblemLink
  codingSite="leetcode"
  href="https://leetcode.com/problems/construct-binary-tree-from-preorder-and-postorder-traversal"
  title="Construct Binary Tree from Preorder and Postorder Traversal"
/>
