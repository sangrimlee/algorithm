---
title: Final Prices With a Special Discount in a Shop
tags:
  - Array
  - Stack
  - Monotonic Stack
---

# 1475. Final Prices With a Special Discount in a Shop

<Badge.Root>
  <Badge.Level level="easy" />
  <Badge.Topic name="Array" slug="array" />
  <Badge.Topic name="Stack" slug="stack" />
  <Badge.Topic name="Monotonic Stack" slug="monotonic-stack" />
</Badge.Root>

## Solution

```typescript filename="solution.ts" copy
export function finalPrices(prices: number[]): number[] {
  const answer = [...prices];
  const stack: number[] = [];
  prices.forEach((price, i) => {
    while (0 < stack.length && price <= prices[stack[stack.length - 1]]) {
      const prevIndex = stack.pop()!;
      answer[prevIndex] -= price;
    }
    stack.push(i);
  });

  return answer;
}
```

<ProblemLink
  codingSite="leetcode"
  href="https://leetcode.com/problems/final-prices-with-a-special-discount-in-a-shop"
  title="Final Prices With a Special Discount in a Shop"
/>
