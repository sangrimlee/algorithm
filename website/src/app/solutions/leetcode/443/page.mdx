---
title: String Compression
tags:
  - Two Pointers
  - String
---

# 443. String Compression

<Badge.Root>
  <Badge.Level level="medium" />
  <Badge.Topic name="Two Pointers" slug="two-pointers" />
  <Badge.Topic name="String" slug="string" />
</Badge.Root>

## Solution

```typescript filename="solution.ts" copy
export function compress(chars: string[]): number {
  const n = chars.length;
  let charIndex = 0;
  let compressedIndex = 0;

  while (charIndex < n) {
    const char = chars[charIndex];
    let groupLength = 1;
    while (charIndex + groupLength < n && chars[charIndex + groupLength] === char) {
      groupLength += 1;
    }
    chars[compressedIndex] = char;
    compressedIndex += 1;

    if (1 < groupLength) {
      for (const digit of groupLength.toString()) {
        chars[compressedIndex] = digit;
        compressedIndex += 1;
      }
    }
    charIndex += groupLength;
  }
  chars.splice(compressedIndex);

  return compressedIndex;
}
```

<ProblemLink
  codingSite="leetcode"
  href="https://leetcode.com/problems/string-compression"
  title="String Compression"
/>
